%{
#include <stdio.h>
#include <stdlib.h>
#include <string.h>
#include"struct_tree.h"
#include "web_compiler.tab.h"


int fileno(FILE*);
int ligne = 0;
%option 8bit
%option case-insensitive

%}

%x TEXT_MODE
%option noinput nounput

%%


[:digit:]*;

ID [A-Za-z_][A-Za-z0-9_]*

[[:blank:]]*   {printf(" ");} /*supprimer tous les espaces et saut de ligne inutile*/
[[:blank:]]*\n*  {printf("\n");}



[[:alpha:]]+ {
  yylval.name = strdup(yytext);
  return TAG;
}
"{" //{ return ACCO_OPEN;}

"}" //{return ACCO_CLOSE;}
"[" //{ return CRO_OPEN;}
"]" //{ return CRO_CLOSE;}
"/" //{ return SLASH;}
"_" //{ return UNDER_SCORE;}
"<" //{return BALISE_OPEN;}
"\>" //{return BALISE_CLOSE;}
'>' //{return SUP;}
"=" //{return EGAL;}
"#" //{return DIEZ;}
"." //{return POINT;}
"," /{return VIRGUL;}
"*" {return ETOILE;}
';' {return POINT VIRGULE;}
'div' {return DIV;}


\" {BEGIN TEXT_MODE;}

<TEXT_MODE>\" {BEGIN INITIAL;}

<TEXT_MODE>[[:alpha:]]+ {
  yylval.name = strdup(yytext);
  return TEXT;
 }

.|\n {}

